apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: connect
spec:
  version: v0.5.10
  homepage: https://github.com/fidelity/kconnect
  shortDescription: "Discover and access clusters"
  description: |
    kconnect is a tool that can be used to discover and securely access Kubernetes 
    clusters across multiple operating environments.
    Based on the authentication mechanism chosen the CLI will discover Kubernetes 
    clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher) 
    and generate a kubeconfig for a chosen cluster.
    Features:
    - Authenticate using SAML or Azure Active Directory 
    - Discover EKS, AKS & Rancher clusters
    - Generate a kubeconfig for a cluster
    - Query history of connected servers
    - Regenerate the kubeconfig from your history by using an id or an alias
    - Import defaults values for your company
  caveats: |
    This plugin currently only supports EKS, AKS and Rancher
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.10/kconnect_linux_amd64.tar.gz
    sha256: 6d892f7ebb45f5b04a69d964a912b135643f39f70e76f2183251e165c79a4a5c
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.10/kconnect_linux_arm64.tar.gz
    sha256: 5198989eedf718e64b20223d58b0a262314ebd05a43892c36f44b453748a1cd5
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.10/kconnect_macos_amd64.tar.gz
    sha256: ac5d4ad9f8216e455b164635a3466d6968e6266ea16f2d7d1f423ad6430d57ce
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.10/kconnect_macos_amd64.tar.gz
    sha256: ac5d4ad9f8216e455b164635a3466d6968e6266ea16f2d7d1f423ad6430d57ce
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.10/kconnect_windows_amd64.zip
    sha256: 481a400b396dea901e0ed00f149ecadc4ff31523beb02b849dafb0056a332e8a
    files:
    - from: "kconnect.exe"
      to: "kubectl-connect.exe"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect.exe
