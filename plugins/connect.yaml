apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: connect 
spec:
  version: v0.5.4
  homepage: https://github.com/fidelity/kconnect
  shortDescription: "Discover and access clusters"
  description: |
    kconnect is a tool that can be used to discover and securely access Kubernetes 
    clusters across multiple operating environments.
    Based on the authentication mechanism chosen the CLI will discover Kubernetes 
    clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher) 
    and generate a kubeconfig for a chosen cluster.
    Features:
    - Authenticate using SAML or Azure Active Directory 
    - Discover EKS, AKS & Rancher clusters
    - Generate a kubeconfig for a cluster
    - Query history of connected servers
    - Regenerate the kubeconfig from your history by using an id or an alias
    - Import defaults values for your company
  caveats: |
    This plugin currently only supports EKS, AKS and Rancher
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.4/kconnect_linux_amd64.tar.gz
    sha256: a9baaf9cf490c3cd355fcb004fb958f04b55a7b29357949e63ac64562d1c9619
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.4/kconnect_linux_arm.tar.gz
    sha256: ea5fbe2b0df854786f611455b26614f94dd368e5ac99da457dafe90db30e10ef
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.4/kconnect_linux_arm64.tar.gz
    sha256: c5316aabc713ec0c708713685c251166303563fd0ee3b19636d0314fa40a71b2
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.4/kconnect_macos_amd64.tar.gz
    sha256: 9255b014beddd7feb58e0349e0e67cb2356ab6842de307168201f0b94155ca45
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.4/kconnect_windows_amd64.zip
    sha256: 879d7439e057fc72ff8f7c822c43fd55d8df5b3adf78a75af35beed6d138e8ff
    files:
    - from: "kconnect.exe"
      to: "kubectl-connect.exe"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect.exe