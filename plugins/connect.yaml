apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: connect
spec:
  version: v0.5.0
  homepage: https://github.com/fidelity/kconnect
  shortDescription: "Discover and access clusters"
  description: |
    kconnect is a tool that can be used to discover and securely access Kubernetes
    clusters across multiple operating environments.
    Based on the authentication mechanism chosen the CLI will discover Kubernetes
    clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher)
    and generate a kubeconfig for a chosen cluster.
    Features:
    - Authenticate using SAML or Azure Active Directory
    - Discover EKS, AKS & Rancher clusters
    - Generate a kubeconfig for a cluster
    - Query history of connected servers
    - Regenerate the kubeconfig from your history by using an id or an alias
    - Import defaults values for your company
  caveats: |
    This plugin currently only supports EKS, AKS and Rancher
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.0/kconnect_linux_amd64.tar.gz
    sha256: 0125a967eb094fd4e68856fb086bac751248a15ec570fe676fcf521d465b866e
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.0/kconnect_linux_arm.tar.gz
    sha256: 912fce5d1d66a8920ce9aaa07c61ab16ee791751f175be6fba90a97bcf3fc832
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.0/kconnect_linux_arm64.tar.gz
    sha256: 92bc4b8abbb818da0356ab95da3b308021b087dcdb59c7105f3f5d1c25cc88fe
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.0/kconnect_macos_amd64.tar.gz
    sha256: c61e14bc476c3d2354a367f2bbf4a8696b4034fa97f1dd5c77e6d832c15ff2b1
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.0/kconnect_windows_amd64.zip
    sha256: 189999bce749a391a30d4d0d1e57189d326a8b787fc632d8dd3d35b8fbc5b850
    files:
    - from: "kconnect.exe"
      to: "kubectl-connect.exe"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect.exe