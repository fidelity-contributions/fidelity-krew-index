apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: connect
spec:
  version: v0.5.17
  homepage: https://github.com/fidelity/kconnect
  shortDescription: "Discover and access clusters"
  description: |
    kconnect is a tool that can be used to discover and securely access Kubernetes
    clusters across multiple operating environments.
    Based on the authentication mechanism chosen the CLI will discover Kubernetes
    clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher)
    and generate a kubeconfig for a chosen cluster.
    Features:
    - Authenticate using SAML or Azure Active Directory
    - Discover EKS, AKS & Rancher clusters
    - Generate a kubeconfig for a cluster
    - Query history of connected servers
    - Regenerate the kubeconfig from your history by using an id or an alias
    - Import defaults values for your company
  caveats: |
    This plugin currently only supports EKS, AKS and Rancher
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.17/kconnect_linux_amd64.tar.gz
    sha256: b333b54bae25d4e9ee2a89df90dc5cc205adb630c3297f8976e72bad7027ecfc
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.17/kconnect_linux_arm64.tar.gz
    sha256: 792b71f4940d38ab57c4cbdc28d0225a2ffa02c7389451a21cd345d9453cbf8a
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.17/kconnect_macos_amd64.tar.gz
    sha256: 7fdeb46868906d5ff982483107a3d1646c4edb084c315431b9ba983628c174c2
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.17/kconnect_macos_amd64.tar.gz
    sha256: 7fdeb46868906d5ff982483107a3d1646c4edb084c315431b9ba983628c174c2
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.17/kconnect_windows_amd64.zip
    sha256: 246eea6181afdd4fd6e038968d926dfe09e4deb75004edac7b58d43207be99b0
    files:
    - from: "kconnect.exe"
      to: "kubectl-connect.exe"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect.exe
