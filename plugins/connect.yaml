apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: connect
spec:
  version: v0.5.13
  homepage: https://github.com/fidelity/kconnect
  shortDescription: "Discover and access clusters"
  description: |
    kconnect is a tool that can be used to discover and securely access Kubernetes 
    clusters across multiple operating environments.
    Based on the authentication mechanism chosen the CLI will discover Kubernetes 
    clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher) 
    and generate a kubeconfig for a chosen cluster.
    Features:
    - Authenticate using SAML or Azure Active Directory 
    - Discover EKS, AKS & Rancher clusters
    - Generate a kubeconfig for a cluster
    - Query history of connected servers
    - Regenerate the kubeconfig from your history by using an id or an alias
    - Import defaults values for your company
  caveats: |
    This plugin currently only supports EKS, AKS and Rancher
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.13/kconnect_linux_amd64.tar.gz
    sha256: a6e659ef470e4786b904c9f89a1fb64890e47aa248eb88708d6f0d64026c063c
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.13/kconnect_linux_arm64.tar.gz
    sha256: 19bc0ddc6629a68e6d400643298b3acfc12626b87c9066f1c8d117870545365f
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.13/kconnect_macos_amd64.tar.gz
    sha256: d7c9963a67ced131269cd3d5068a17a7fcd66f69b3f75c983ea4034a821d4c10
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.13/kconnect_macos_amd64.tar.gz
    sha256: d7c9963a67ced131269cd3d5068a17a7fcd66f69b3f75c983ea4034a821d4c10
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.13/kconnect_windows_amd64.zip
    sha256: 21611e00b258ddd11ec5fef3cdd73fbaf138c3f6a7c7eaa1a05e5a2e2504d762
    files:
    - from: "kconnect.exe"
      to: "kubectl-connect.exe"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect.exe
