apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: connect
spec:
  version: v0.5.11
  homepage: https://github.com/fidelity/kconnect
  shortDescription: "Discover and access clusters"
  description: |
    kconnect is a tool that can be used to discover and securely access Kubernetes 
    clusters across multiple operating environments.
    Based on the authentication mechanism chosen the CLI will discover Kubernetes 
    clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher) 
    and generate a kubeconfig for a chosen cluster.
    Features:
    - Authenticate using SAML or Azure Active Directory 
    - Discover EKS, AKS & Rancher clusters
    - Generate a kubeconfig for a cluster
    - Query history of connected servers
    - Regenerate the kubeconfig from your history by using an id or an alias
    - Import defaults values for your company
  caveats: |
    This plugin currently only supports EKS, AKS and Rancher
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.11/kconnect_linux_amd64.tar.gz
    sha256: 2ac3b670170d215d0a60ec24fe58288e75e43e43fff83757e7098c7444ac57a9
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.11/kconnect_linux_arm64.tar.gz
    sha256: 531da12ec3086271411fb8b56396dded7d7d00924b1b53d72269b67f07c68fbf
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.11/kconnect_macos_amd64.tar.gz
    sha256: 64ccd5b70101bec2b0b3bd0bc082a65a514c0ee2011fd2b16919a88213de0aaf
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.11/kconnect_macos_amd64.tar.gz
    sha256: 64ccd5b70101bec2b0b3bd0bc082a65a514c0ee2011fd2b16919a88213de0aaf
    files:
    - from: "kconnect"
      to: "kubectl-connect"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/fidelity/kconnect/releases/download/0.5.11/kconnect_windows_amd64.zip
    sha256: 618f1580fdf4c1e34a4321eefd7b6e13e97ef5c9fd517c94db159ed91a4998e5
    files:
    - from: "kconnect.exe"
      to: "kubectl-connect.exe"
    - from: "LICENSE"
      to: "."
    bin: kubectl-connect.exe
